<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>jqGrid Demos</title>
<link href="../../../bootstrap/2.3.1/css_default/bootstrap.min.css" rel="stylesheet" type="text/css"/>

<!-- <link href="../css/jquery-ui-1.8.2.custom.css" rel="stylesheet" type="text/css" /> -->
<link href="../css/ui.jqgrid.css" rel="stylesheet" type="text/css" />

<link href="../../../common/jeesite.css" type="text/css" rel="stylesheet"/>

<script src="../../../jquery/jquery-1.8.3.min.js" type="text/javascript"></script>
<script src="../i18n/grid.locale-cn.js" type="text/javascript"></script>
<script src="../js/jquery.jqGrid.js" type="text/javascript"></script>
<script src="../plugins/grid.complexHeaders.js" type="text/javascript"></script>

<script type="text/javascript">
$(document).ready(function(){
	
		
    var grid = $("#list1").jqGrid({
		url:'server.json',
		datatype: "json",
		jsonReader: {
			root: "list",
			page: "pageNo",
			total: "totalPage",
			records: "count",
			subgrid: {root:"list"}
		},
		colNames:['编号','类型', '<font color=red>关键字</font>', '日期','访问数','操作'],
		colModel:[
			{name:'Id',index:'id', width:55, sortable:false, frozen : true},
			{name:'DataType',index:'data_type', width:120, frozen : true},
			{name:'KeyWords',index:'key_words desc, data_type', width:100},
			{name:'DoTime',index:'do_time', width:160, align:"center"},
			{name:'DataCount',index:'data_count', width:80, align:"right", formatter: 'number'},		
			{name:'btns',index:'total', width:100,formatter: function(val, obj, row, act){
				return " <a href='#"+row.Id+"'>添加</a> <a href='#"+row.Id+"'>删除</a>"
			}}
		],
		rowNum:-1,
		//rowList:[10,20,30],
		//pager: '#pager2',
		//sortname: 'id',
		//sortorder: "asc",
		//viewrecords: true,
		rownumbers: true,
		//shrinkToFit: false,
		multiboxonly:true,
		multiselect: true,
		beforeRequest: function(data){
			//console.log(data);
		},
		loadComplete: function(data){
			//console.log(data.page);
		},
		loadError: function(data){
			//console.log(data);
		},
		gridComplete : function() {
			$(window).resize();
		}
		//caption:"JSON Example"
	});
	//grid.jqGrid('navGrid','hideCol',"Id").jqGrid('sortableRows');
	//grid.jqGrid('setFrozenColumns');
	//grid.jqGrid('navGrid','#pager2',{edit:false,add:false,del:false});
	$(window).resize(function(){
		grid.jqGrid('setGridWidth',$(window).width()-100);
		grid.jqGrid('setGridHeight',$(window).height()/2-100);
	}).resize();
});
</script>
</head>
<body>
  	<table id="list2"></table>
	<div id="pager2"></div>
	<br/>
  	<table id="list1"></table>
</body>
</html>